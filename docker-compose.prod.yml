# Override cho production / CI deploy
# Dùng kèm: docker compose -f docker-compose.yml -f docker-compose.prod.yml up -d
#
# - lakeflow_data: dùng named volume (không bind path Mac/Linux cụ thể)
# - Backend: bỏ mount source, bỏ --reload
# - Frontend: bỏ mount ./backend (chỉ giữ lakeflow_data)

services:
  lakeflow-backend:
    volumes:
      - lakeflow_data:/data
    command: uvicorn lakeflow.main:app --host 0.0.0.0 --port 8011

  lakeflow-frontend:
    volumes:
      - lakeflow_data:/data

volumes:
  lakeflow_data: {}  # Named volume, không bind path host
